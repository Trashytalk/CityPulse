# ============================================
# CityPulse Environment Variables
# Copy to .env.local for development
# ============================================

# --------------------------------------------
# Database (PostgreSQL + PostGIS)
# --------------------------------------------
# Local: postgresql://citypulse:citypulse@localhost:5432/citypulse
# Neon: postgresql://user:pass@ep-xxx.us-east-1.aws.neon.tech/citypulse?sslmode=require
DATABASE_URL=postgresql://citypulse:citypulse@localhost:5432/citypulse

# --------------------------------------------
# Redis (Cache + Queues)
# --------------------------------------------
# Local: redis://localhost:6379
# Upstash: redis://default:xxx@xxx.upstash.io:6379
REDIS_URL=redis://localhost:6379

# --------------------------------------------
# Object Storage (S3-compatible)
# --------------------------------------------
# Cloudflare R2 or AWS S3
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=citypulse-uploads
S3_REGION=auto
# Public URL for serving files (optional, uses signed URLs if not set)
S3_PUBLIC_URL=

# --------------------------------------------
# Authentication
# --------------------------------------------
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d

# OTP Configuration
# Generate with: openssl rand -base64 20
OTP_SECRET=your-otp-secret-key-change-in-production
OTP_EXPIRY_MINUTES=5
OTP_LENGTH=6

# --------------------------------------------
# SMS Provider (Twilio)
# --------------------------------------------
SMS_PROVIDER=console
# Set to 'twilio' in production
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# --------------------------------------------
# Push Notifications (Expo)
# --------------------------------------------
EXPO_ACCESS_TOKEN=

# --------------------------------------------
# ML Service (Modal.com)
# --------------------------------------------
MODAL_TOKEN=
MODAL_WEBHOOK_SECRET=

# --------------------------------------------
# EMCIP Integration
# --------------------------------------------
EMCIP_WEBHOOK_URL=
EMCIP_API_KEY=

# --------------------------------------------
# Payment Providers
# --------------------------------------------
# GCash
GCASH_API_KEY=
GCASH_MERCHANT_ID=

# GrabPay
GRABPAY_API_KEY=
GRABPAY_MERCHANT_ID=

# --------------------------------------------
# Monitoring
# --------------------------------------------
SENTRY_DSN=
AXIOM_TOKEN=
AXIOM_DATASET=citypulse-logs

# --------------------------------------------
# Application
# --------------------------------------------
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug
API_URL=http://localhost:3000
WEB_URL=http://localhost:3001

# --------------------------------------------
# Rate Limiting
# --------------------------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# --------------------------------------------
# Feature Flags
# --------------------------------------------
ENABLE_ML_PROCESSING=true
ENABLE_PAYMENTS=true
ENABLE_PUSH_NOTIFICATIONS=false
